sap.ui.define(["sap/ui/core/Fragment","sap/m/Button","sap/m/MessageToast"],function(e,a,o){"use strict";var t=function(a,t,s){var i=e.byId("uploadPdfFragment","uploadSet");var l=i.getItems();if(l.length===0){o.show("Please choose a file first.");return}var n=l[0].getFileObject();if(n.size>200*1024){o.show("Large file detected. Uploading may take a while. Please wait...",{duration:5e3})}else{o.show("Uploading file. Please wait...",{duration:2e3})}var r=new FileReader;r.onload=async function(e){var a=e.target.result;try{var t={to_Files:[{FileName:n.name,content:a.split(",")[1],contentType:n.type}]};var i="/salesorder";var l=s.bindList(i);await l.create(t);o.show("File uploaded successfully!")}catch(e){o.show("Error uploading file: "+e.message)}};r.readAsDataURL(n);t.close();i.removeAllItems()};return{UploadPdf:function(s){var i=this;var l=this.getModel();if(!this.oDialog){e.load({id:"uploadPdfFragment",name:"salesorder.ext.controller.Uploadpdf",type:"XML",controller:this}).then(function(e){i.oDialog=e;i.oDialog.setBeginButton(new a({text:"Upload",press:function(e){t(e,i.oDialog,l)}}));i.oDialog.setEndButton(new a({text:"Close",press:function(){i.oDialog.close()}}));i.oDialog.open()}).catch(function(e){o.show("Error loading PDF Upload Dialog: "+e.message)})}else{this.oDialog.open()}}}});
//# sourceMappingURL=Uploadpdf.js.map