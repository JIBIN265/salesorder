sap.ui.define(["sap/ui/core/Fragment","sap/m/Button","sap/m/MessageToast"],function(e,a,o){"use strict";var t=function(a,t,i){var l=e.byId("uploadPdfFragment","uploadSet");var s=l.getItems();if(s.length===0){o.show("Please choose a file first.");return}var n=s[0].getFileObject();if(n.size>200*1024){o.show("Large file detected. Uploading may take a while. Please wait...",{duration:5e3})}else{o.show("Uploading file. Please wait...",{duration:2e3})}var r=new FileReader;r.onload=async function(e){var a=e.target.result;try{debugger;var t={FileName:n.name,MimeType:n.type,FileSize:n.size,FileContent:a.split(",")[1]};var l="/salesorder";var s=i.bindList(l);await s.create(t);o.show("File uploaded successfully!")}catch(e){o.show("Error uploading file: "+e.message)}};r.readAsDataURL(n);t.close();l.removeAllItems()};return{UploadPdf:function(i){var l=this;var s=this.getModel();if(!this.oDialog){e.load({id:"uploadPdfFragment",name:"salesorder.ext.controller.Uploadpdf",type:"XML",controller:this}).then(function(e){l.oDialog=e;l.oDialog.setBeginButton(new a({text:"Upload",press:function(e){t(e,l.oDialog,s)}}));l.oDialog.setEndButton(new a({text:"Close",press:function(){l.oDialog.close()}}));l.oDialog.open()}).catch(function(e){o.show("Error loading PDF Upload Dialog: "+e.message)})}else{this.oDialog.open()}}}});
//# sourceMappingURL=Uploadpdf.js.map